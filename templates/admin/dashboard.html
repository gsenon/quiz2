{% extends "base.html" %}
{% block title %}Панель администратора{% endblock %}
{% block content %}
<section class="card">
    <h1>Панель администратора</h1>
    
    <div class="stats">
        <p><strong>Дата:</strong> {{ today }}</p>
        <p><strong>Всего вопросов в базе:</strong> {{ questions|length }}</p>
    </div>
    
    <div class="admin-links" style="margin-top: 20px;">
        <a href="{{ url_for('admin_settings') }}" class="btn">Настройки системы</a>
    </div>
</section>

<section class="card">
    <h2>База вопросов</h2>
    
    <div style="max-height: 400px; overflow-y: auto;">
        <table style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="background: #f5f5f5;">
                    <th style="padding: 10px; border: 1px solid #ddd;">ID</th>
                    <th style="padding: 10px; border: 1px solid #ddd;">Вопрос</th>
                    <th style="padding: 10px; border: 1px solid #ddd;">Тип</th>
                    <th style="padding: 10px; border: 1px solid #ddd;">Категория</th>
                    <th style="padding: 10px; border: 1px solid #ddd;">Уровень</th>
                </tr>
            </thead>
            <tbody>
                {% for q in questions[:100] %}  {# Показываем первые 100 #}
                <tr>
                    <td style="padding: 8px; border: 1px solid #ddd;">{{ q.id }}</td>
                    <td style="padding: 8px; border: 1px solid #ddd;">{{ q.question[:50] }}...</td>
                    <td style="padding: 8px; border: 1px solid #ddd;">{{ q.type }}</td>
                    <td style="padding: 8px; border: 1px solid #ddd;">{{ q.category }}</td>
                    <td style="padding: 8px; border: 1px solid #ddd;">{{ q.level }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    
    <p style="margin-top: 10px; font-size: 0.9em; color: #666;">
        Показано первых 100 вопросов из {{ questions|length }}
    </p>
</section>
{% endblock %}